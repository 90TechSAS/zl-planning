{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","PlanningDayController","init","self","this","_","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","day","events","PlanningLeftColumnController","$scope","days","mode","times","i","d","moment","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","contains","target","classList","minutes","Math","floor","offsetX","BASE_SIZE","zoom","clickCallback","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","console","log","line","title","eventList","parallelText","tooltip","undefined","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","calculateLeft","calculateWidth","lh","singleDayEventsLines","oneDayEvents","diff","isoWeekday","week","PlanningController","split","_dayStart","m","second","stop","_dayEnd","dayOfYear","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","filter","date","daysInMonth","isBetween","addMissingDays","sortedEvents","startingDay","addMissingEntities","parseTime","flatten","map","groupBy","firstDay","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","n","getWeekNumber","st","startOf","endOf","isoWeek","firstEvent","secondEvent","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","toRemove","elt","overlaps","min","max","service","window","run","$templateCache","put"],"mappings":"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"}