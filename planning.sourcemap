{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/drag-drop/drag-drop.directive.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","directive","controller","scope","controllerAs","bindToController","zlDrag","zlDrop","link","element","dragImage","document","createElement","el","addEventListener","e","preventDefault","attributes","draggable","style","backgroundColor","height","clientHeight","width","Math","min","clientWidth","zIndex","position","left","bottom","innerHTML","dataTransfer","effectAllowed","body","appendChild","setDragImage","setData","JSON","stringify","dragDropCtrl","this","classList","add","remove","stopPropagation","target","$apply","$data","parse","getData","$event","ScrollHorizontalDirective","$timeout","restrict","scrollLeft","bind","wheelDelta","addClass","offsetWidth","$inject","_","PlanningDayController","init","dropEvent","data","event","self","dropCallback","isDefined","undefined","day","events","extend","PlanningDayDirective","replace","templateUrl","clickCallback","dayCtrl","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","extractMinutesFromEvent","minutes","contains","floor","offsetX","BASE_SIZE","zoom","hour","parseInt","getAttribute","$hour","h","$minutes","clickEvent","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","depth","end","hours","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","top","round","length","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","color","ceil","diff","isoWeekday","week","weekEventCallback","PlanningController","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","map","split","filter","groupBy","dayOfYear","addMissingDays","addMissingEntities","firstDay","date","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","daysInMonth","n","displayedDaysCount","m","second","stop","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","st","startOf","endOf","isoWeek","firstEvent","secondEvent","isBetween","startingDay","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","clickWeekEvent","dropEventWeekMode","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","doublecheck","elt","overlaps","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}