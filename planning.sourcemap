{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","_","PlanningDayController","init","self","this","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","day","events","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","minutes","contains","target","classList","Math","floor","offsetX","BASE_SIZE","zoom","clickCallback","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","undefined","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","calculateLeft","calculateWidth","lh","singleDayEventsLines","oneDayEvents","diff","isoWeekday","week","PlanningController","split","_dayStart","m","second","stop","_dayEnd","dayOfYear","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","filter","date","daysInMonth","isBetween","addMissingDays","sortedEvents","startingDay","addMissingEntities","parseTime","flatten","map","groupBy","firstDay","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","n","st","startOf","endOf","isoWeek","firstEvent","secondEvent","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","toRemove","elt","overlaps","min","max","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}