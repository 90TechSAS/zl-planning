{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","_","PlanningDayController","init","self","this","isDefined","undefined","day","events","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","clickCallback","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","minutes","contains","target","classList","Math","floor","offsetX","BASE_SIZE","zoom","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","color","ceil","diff","isoWeekday","week","weekEventCallback","PlanningController","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","map","split","filter","groupBy","dayOfYear","addMissingDays","addMissingEntities","firstDay","date","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","daysInMonth","n","m","second","stop","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","st","startOf","endOf","isoWeek","firstEvent","secondEvent","isBetween","startingDay","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","clickWeekEvent","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","doublecheck","elt","overlaps","min","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}