{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","_","PlanningDayController","init","self","this","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","day","events","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","minutes","contains","target","classList","Math","floor","offsetX","BASE_SIZE","zoom","clickCallback","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","undefined","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","toRemove","calculateLeft","calculateWidth","lh","singleDayEventsLines","oneDayEvents","diff","isoWeekday","hello","console","log","week","weekEventCallback","PlanningController","split","_dayStart","m","second","stop","_dayEnd","dayOfYear","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","filter","date","daysInMonth","isBetween","addMissingDays","sortedEvents","startingDay","addMissingEntities","parseTime","flatten","map","groupBy","firstDay","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","n","st","startOf","endOf","isoWeek","firstEvent","secondEvent","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","elt","overlaps","min","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}