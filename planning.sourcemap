{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","PlanningDayController","init","self","this","_","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","day","events","PlanningLeftColumnController","$scope","days","mode","times","i","d","moment","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","contains","target","classList","minutes","Math","floor","offsetX","BASE_SIZE","zoom","clickCallback","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","undefined","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","calculateLeft","calculateWidth","lh","singleDayEventsLines","oneDayEvents","diff","isoWeekday","week","PlanningController","split","_dayStart","m","second","stop","_dayEnd","dayOfYear","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","filter","date","daysInMonth","isBetween","addMissingDays","sortedEvents","startingDay","addMissingEntities","parseTime","flatten","map","groupBy","firstDay","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","n","getWeekNumber","st","startOf","endOf","isoWeek","firstEvent","secondEvent","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","toRemove","elt","overlaps","min","max","eventClone","cloneDeep","service","window","run","$templateCache","put"],"mappings":"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"}