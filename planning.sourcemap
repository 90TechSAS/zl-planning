{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","_","PlanningDayController","init","self","this","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","day","events","clickCallback","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","minutes","contains","target","classList","Math","floor","offsetX","BASE_SIZE","zoom","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","undefined","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","diff","isoWeekday","week","weekEventCallback","PlanningController","split","_dayStart","m","second","stop","_dayEnd","dayOfYear","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","filter","date","daysInMonth","isBetween","addMissingDays","sortedEvents","startingDay","addMissingEntities","parseTime","flatten","map","groupBy","firstDay","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","n","st","startOf","endOf","isoWeek","firstEvent","secondEvent","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","clickWeekEvent","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","elt","overlaps","min","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}