{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/drag-drop/drag-drop.directive.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-vertical-line/planning-vertical-line.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/dayFilter.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/color.service.js","planning/services/configurationProvider.js","planning/services/pause.service.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","directive","controller","scope","controllerAs","bindToController","zlDrag","zlDrop","link","element","dragImage","document","createElement","el","addEventListener","e","preventDefault","attributes","draggable","style","height","clientHeight","zIndex","position","left","bottom","innerHTML","children","length","backgroundColor","width","clientWidth","Math","min","dataTransfer","effectAllowed","body","appendChild","setDragImage","_","each","querySelectorAll","elt","remove","setData","JSON","stringify","dragDropCtrl","this","classList","add","stopPropagation","target","$apply","$data","parse","getData","$event","ScrollHorizontalDirective","$timeout","restrict","scrollLeft","bind","wheelDelta","addClass","offsetWidth","$inject","PlanningDayController","init","dropEvent","data","event","self","dropCallback","$onInit","extend","isDefined","undefined","day","events","PlanningDayDirective","replace","templateUrl","clickCallback","dayCtrl","moment","PlanningLeftColumnController","$scope","days","allowedDays","usableDays","mode","forEach","d","weekday","push","sortBy","toDate","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","ColorService","PauseService","extractMinutesFromEvent","minutes","contains","floor","offsetX","BASE_SIZE","zoom","hour","parseInt","getAttribute","absences","absentTechnicianCallback","$hour","h","$minutes","clickEvent","currentId","preEvent","breaks","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","start","valueOf","lines","toremove","depth","end","hours","getLuminance","color","overlap","MAX_PARALLEL","difference","id","line","title","eventList","parallelText","tooltip","top","round","percentage","pre","s","subtract","isSame","startOf","r","totalRange","obj","totalWidth","text-align","background","border-top","border-bottom","border-left","pauses","generateGradient","createBreaks","calcWidth","compact","map","p","pause","name","split","minute","second","isAfter","isBefore","log","a","string","PlanningLineDirective","topRowDirective","PlanningTopRowController","times","i","calcMargin","index","half","$watchGroup","entities","callback","$filter","offsetY","hasAbsences","AVAILABLE_SPACE","continuedBefore","calculateContainerHeight","containerHeight","max","oldValue","newValue","any","endOf","displayedEvents","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","ceil","diff","isoWeekday","week","weekEventCallback","PlanningController","DAYS","daysList","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","filter","groupBy","format","addMissingDays","mapValues","eventsByTechnician","addMissingEntities","reduce","acc","v","groupedEvents","unix","k","result","key","technician","m","stop","j","isEmpty","includes","date","found","find","group","firstDay","seconds","month","decallage","dayOfYear","multipleDaysEvents","splitByWeeks","endWeek","isoWeek","startWeek","isoWeeksInYear","weekInMonth","unshift","daysInMonth","n","displayedDaysCount","first_event","startNextDay","endThisDay","second_event","concat","st","year","firstEvent","secondEvent","some","isBetween","startingDay","newDate","b","splitA","splitB","dateA","Date","dateB","getEvents","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","clickCallbackWrapper","opts","mom","entity","$moment","$entity","clickWeekEvent","config","entitiesPauses","eventCallback","dayCallback","action","isNaN","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","c","g","rgbRegex","test","exec","substring","rgb","luma","service","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","setDays","$get","direction","parsePause","pauseRange","pauseDuration","totalDuration","before","endPercentage","startPercentage","pauseColor","invertColor","mapped","reduced","hex","indexOf","Error","toString","padZero","len","zeros","Array","join","maxParallelEvents","doublecheck","eltRange","overlaps","eventClone","cloneDeep","run","$templateCache","put"],"mappings":"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"}