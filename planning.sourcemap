{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","_","PlanningDayController","init","self","this","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","day","events","clickCallback","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","minutes","contains","target","classList","Math","floor","offsetX","BASE_SIZE","zoom","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","undefined","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","color","diff","isoWeekday","week","weekEventCallback","PlanningController","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","map","split","filter","groupBy","dayOfYear","addMissingDays","addMissingEntities","firstDay","date","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","daysInMonth","n","m","second","stop","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","st","startOf","endOf","isoWeek","firstEvent","secondEvent","isBetween","startingDay","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","clickWeekEvent","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","doublecheck","elt","overlaps","min","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}