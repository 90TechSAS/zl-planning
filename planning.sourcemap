{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/drag-drop/drag-drop.directive.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","directive","controller","scope","controllerAs","bindToController","zlDrag","zlDrop","link","element","el","addEventListener","e","preventDefault","attributes","draggable","dataTransfer","effectAllowed","setData","JSON","stringify","dragDropCtrl","this","classList","add","remove","console","log","stopPropagation","$apply","$data","parse","getData","$event","ScrollHorizontalDirective","$timeout","restrict","scrollLeft","bind","wheelDelta","addClass","offsetWidth","$inject","_","PlanningDayController","init","dropEvent","data","event","self","dropCallback","isDefined","undefined","day","events","extend","PlanningDayDirective","replace","templateUrl","clickCallback","dayCtrl","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","extractMinutesFromEvent","minutes","contains","target","Math","floor","offsetX","BASE_SIZE","zoom","hour","$hour","parseInt","h","$minutes","clickEvent","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","style","depth","end","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","color","ceil","diff","isoWeekday","week","weekEventCallback","PlanningController","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","map","split","filter","groupBy","dayOfYear","addMissingDays","addMissingEntities","firstDay","date","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","daysInMonth","n","displayedDaysCount","m","second","stop","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","st","startOf","endOf","isoWeek","firstEvent","secondEvent","isBetween","startingDay","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","clickWeekEvent","dropEventWeekMode","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","doublecheck","elt","overlaps","min","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"CAAC,SAAWA,SACV,YAEAA,SACGC,OAAO,mBAAoB,aAC7BC,OAAOF,SCLT,SAAWA,SACV,YAEAA,SACGC,OAAO,mBACPE,UAAU,qBAAsB,WAC/B,OACEC,WAAY,aACZC,SACAC,aAAc,eACdC,kBACEC,OAAQ,IACRC,OAAQ,KAEVC,KAAM,SAAUL,MAAOM,SACrB,GAAIC,IAAKD,QAAQ,EACjBT,QAAOW,iBAAiB,WAAY,SAAUC,GAC5CA,EAAEC,mBACD,GACHb,OAAOW,iBAAiB,OAAQ,SAAUC,GACxCA,EAAEC,mBACD,GAECH,GAAGI,WAAW,aAChBJ,GAAGK,WAAY,EAEfL,GAAGC,iBACD,YACA,SAAUC,GAIR,MAHAA,GAAEI,aAAaC,cAAgB,OAC/BL,EAAEI,aAAaE,QAAQ,OAAQC,KAAKC,UAAUjB,MAAMkB,aAAaf,SACjEgB,KAAKC,UAAUC,IAAI,SACZ,IAET,GAGFd,GAAGC,iBACD,UACA,SAAUC,GAER,MADAU,MAAKC,UAAUE,OAAO,SACf,IAET,IAGAf,GAAGI,WAAW,aAChBY,QAAQC,IAAIjB,IACZA,GAAGC,iBACD,OACA,SAAUC,GASR,MARAc,SAAQC,IAAI,QACZf,EAAEC,iBACFD,EAAEgB,kBACEhB,EAAEgB,iBAAiBhB,EAAEgB,kBACzBN,KAAKC,UAAUE,OAAO,QACtBtB,MAAM0B,OAAO,WACX1B,MAAMkB,aAAad,QAAQuB,MAAOX,KAAKY,MAAMnB,EAAEI,aAAagB,QAAQ,SAAUC,OAAQrB,OAEjF,IAET,GAGFF,GAAGC,iBACD,YACA,SAAUC,GAER,MADAU,MAAKC,UAAUC,IAAI,SACZ,IAET,GAGFd,GAAGC,iBACD,YACA,SAAUC,GAER,MADAU,MAAKC,UAAUE,OAAO,SACf,IAET,SASXzB,OAAOF,SClFT,SAAWA,SACV,YAQA,SAASoC,2BAA2BC,UAClC,OACEC,SAAU,IACVjC,OACEkC,WAAY,KAEd7B,KAAM,SAAeL,MAAOM,QAAUK,YACpCL,QAAQ6B,KAAK,aAAc,SAAU1B,GACnCH,QAAQ,GAAG4B,YAAczB,EAAE2B,WAAa,IAE1C9B,QAAQ+B,SAAS,UAEbrC,MAAMkC,WAGVF,SAAS,WAEP1B,QAAQ,GAAG4B,WAAalC,MAAMkC,WAAa5B,QAAQ,GAAGgC,YAAc,GACnE,OAxBT3C,QACGC,OAAO,mBACPE,UAAU,qBAAsBiC,2BAEnCA,0BAA0BQ,SAAW,aAwBpC1C,OAAOF,SCrCT,SAAWA,QAAS6C,GACnB,YASA,SAASC,yBAIP,QAASC,SAKT,QAASC,WAAWC,KAAMC,OACxBC,KAAKC,cAAepB,MAAOiB,KAAMd,OAAQe,QAT3C,GAAIC,MAAO3B,IAEX2B,MAAKE,UAAiCC,SAApBH,KAAKI,IAAIC,OAI3BT,OAMAF,EAAEY,OAAON,MACPH,UAAWA,YAOf,QAASU,wBACP,OACEpB,SAAU,IACVqB,SAAS,EACTC,YAAa,2DACbxD,WAAY0C,sBACZxC,aAAc,UACdC,kBACEgD,IAAK,IACLC,OAAQ,IACRK,cAAe,IACfT,aAAc,KAEhB/C,OAAO,EACPK,KAAM,SAAUL,MAAOM,SACrB,GAAIC,IAAKD,QAAQ,EACjBT,QAAOW,iBAAiB,WAAY,SAAUC,GAC5CA,EAAEC,mBACD,GACHb,OAAOW,iBAAiB,OAAQ,SAAUC,GACxCA,EAAEC,mBACD,GACHH,GAAGC,iBACD,OACA,SAAUC,GAQR,MAPAA,GAAEC,iBACFD,EAAEgB,kBACEhB,EAAEgB,iBAAiBhB,EAAEgB,kBACzBN,KAAKC,UAAUE,OAAO,QACtBtB,MAAM0B,OAAO,WACX1B,MAAMyD,QAAQd,UAAU3B,KAAKY,MAAMnB,EAAEI,aAAagB,QAAQ,SAAUpB,MAE/D,IAET,GAGFF,GAAGC,iBACD,YACA,SAAUC,GAER,MADAU,MAAKC,UAAUC,IAAI,SACZ,IAET,GAGFd,GAAGC,iBACD,YACA,SAAUC,GAER,MADAU,MAAKC,UAAUE,OAAO,SACf,IAET,KAhFR3B,QACGC,OAAO,mBACPE,UAAU,gBAAiBuD,uBAmF7BxD,OAAOF,QAASE,OAAO2C,GCxFzB,SAAW7C,QAAS+D,OAAQlB,GAC3B,YAQA,SAASmB,8BAA8BC,QAGrC,QAASlB,QACPI,KAAKe,QACa,SAAdf,KAAKgB,KACPtB,EAAEuB,MAAM,EAAG,SAAUC,GACnB,GAAIC,GAAIP,OAAOZ,KAAKoB,SACpBD,GAAEE,QAAQH,GACVlB,KAAKe,KAAKO,KAAKH,KAEM,QAAdnB,KAAKgB,MAAkBhB,KAAKuB,WACrCvB,KAAKwB,OAASC,OAAOC,KAAK1B,KAAKK,QAAQsB,QAX3C,GAAI3B,MAAO3B,IAeXyC,QAAOc,iBAAiB,WACtB,OAAQ5B,KAAKK,OAAQL,KAAKoB,SAAUpB,KAAKgB,KAAMhB,KAAK6B,SAAU7B,KAAK8B,SAClElC,MAGL,QAASmC,qBACP,OACE5C,SAAU,IACVsB,YAAa,qEACbxD,WAAY4D,6BACZ1D,aAAc,qBACdC,kBACEiD,OAAQ,IACRe,SAAU,IACVJ,KAAM,IACNO,SAAU,KAEZrE,OAAO,GAvCXL,QACGC,OAAO,mBACPE,UAAU,uBAAwB+E,mBAErClB,6BAA6BpB,SAAW,WAsCvC1C,OAAOF,QAASE,OAAO6D,OAAQ7D,OAAO2C,GC7CxC,SAAW7C,QAAS6C,EAAGkB,QACtB,YAWA,SACAoB,wBAAwBlB,OAAQmB,sBAAuBC,iBAQrD,QAASC,yBAAwBnD,QAC/B,GAAIoD,QAOJ,OAJEA,SAFE1C,EAAE2C,SAASrD,OAAOsD,OAAOhE,UAAW,aAE5B,GAEAiE,KAAKC,MAAMxD,OAAOyD,SAAWC,UAAY1C,KAAK2C,MAAQ,IAKpE,QAAS9C,WAAW+C,KAAM9C,KAAMC,OAC9B,GAAIqC,SAAUD,wBAAwBpC,MACtCC,MAAKC,cAAepB,MAAOiB,KAAMd,OAAQe,MAAO8C,MAAOD,KAAOE,SAAS9C,KAAK6B,SAASkB,GAAIC,SAAUZ,UAGrG,QAASa,YAAYL,KAAM5D,QACzB,GAAIoD,SAAUD,wBAAwBnD,OACtCgB,MAAKU,eAAemC,MAAOD,KAAOE,SAAS9C,KAAK6B,SAASkB,GAAIC,SAAUZ,UAGzE,QAASxC,QAGPI,KAAKkD,QAAUrG,QAAQsG,KAAKnD,KAAKK,QAEjCL,KAAKoD,MAAQpD,KAAK8B,OAAOiB,EAAI/C,KAAK6B,SAASkB,EAC3C/C,KAAKqD,eAAiB,KAAOrD,KAAKoD,MAClCpD,KAAKsD,aAAeZ,UAAY1C,KAAKoD,MAGrCpD,KAAKkD,QAAUxD,EAAE6D,OAAOvD,KAAKkD,QAAS,SAAUvF,GAC9C,MAAOA,GAAE6F,MAAMC,WAGjB,IAAIC,YACAC,WACJjE,GAAEkE,KAAK5D,KAAKkD,QAAS,SAAUnD,OAC7B,GAAI8D,SAGJ,IAFA9D,MAAM+D,MAAQ,EACd/D,MAAMqD,MAAQxC,OAAOwC,MAAMrD,MAAMyD,MAAOzD,MAAMgE,KAC1ChE,MAAMqD,MAAQ,IAAQ,CACxB,GAAIW,KAAMnD,OAAOb,MAAMyD,OAAOjF,IAAI,GAAI,UACtCwB,OAAMqD,MAAQxC,OAAOwC,MAAMrD,MAAMyD,MAAOO,KAE1CF,MAAMG,MAAQjE,MAAMyD,MAAMS,QAAUjE,KAAK6B,SAASkB,GAAKL,UAAY1C,KAAK2C,KAAO5C,MAAMyD,MAAMpB,UAAYM,UAAY1C,KAAK2C,KAAO,GAAK,KAEpIkB,MAAMK,MAAQlE,KAAK2C,KAAO3C,KAAKsD,aAAgBvD,MAAW,MAAIC,KAAKqD,eAAiB,IAAO,KAC3FQ,MAAM,oBAAsB9D,MAAM,qBAAuB,UACzDA,MAAM8D,MAAQA,MACd3B,gBAAgBiC,QAAQT,MAAO3D,MAAOqE,aAAcT,YAEtD3D,KAAKkD,QAAUxD,EAAE2E,WAAWrE,KAAKkD,QAASS,UAC1CjE,EAAEkE,KAAK5D,KAAKkD,QAAS,SAAUnD,OACzBA,MAAMuE,OAASF,eACjBrE,MAAM8D,MAAMG,MAAQjE,MAAMyD,MAAMS,QAAUjE,KAAK6B,SAASkB,GAAKL,UAAY1C,KAAK2C,KAAO5C,MAAMyD,MAAMpB,UAAYM,UAAY1C,KAAK2C,KAAO,GAAK,KAC1I5C,MAAM8D,MAAMK,MAAQlE,KAAK2C,KAAO3C,KAAKsD,aAAgBvD,MAAMqD,MAAMK,UAAazD,KAAKqD,eAAiB,IAAO,KAC3GtD,MAAM8D,MAAM,oBAAsB,OAClC9D,MAAM8D,MAAM,eAAiB,OAC7B9D,MAAMwE,MAASxE,MAAMyE,UAAgB,OAAI,IAAMC,aAC3C1E,MAAM2E,UAAS3E,MAAM2E,QAAU3E,MAAMwE,QAE3CxE,MAAM8D,MAAMK,MAAQlE,KAAK2C,KAAO3C,KAAKsD,aAAgBvD,MAAMqD,MAAMK,UAAazD,KAAKqD,eAAiB,IAAO,KACxFlD,SAAfJ,MAAMuE,OAAoBvE,MAAMuE,KAAOF,cAC3CrE,MAAM8D,MAAMc,IAAMpC,KAAKqC,MAA+B,GAAxB9B,SAAS/C,MAAMuE,MAAcZ,MAAMmB,QAAU,IAC3E9E,MAAM8D,MAAMiB,OAASvC,KAAKqC,MAAM,GAAKlB,MAAMmB,QAAU,MAMzD,QAASE,WAAWpC,MAClB,MAAQG,UAASH,MAAQD,UAAa,KA/ExC,GAAIA,WAAYT,sBAAsBS,UAClC+B,aAAexC,sBAAsBwC,aACrCL,aAAenC,sBAAsBmC,aAErCpE,KAAO3B,IAwEXuB,QAMAkB,OAAOc,iBAAiB,WACtB,OAAQ5B,KAAKK,OAAQL,KAAK6B,SAAU7B,KAAK8B,SACxClC,MAGHF,EAAEY,OAAON,MACPiD,WAAYA,WACZ8B,UAAWA,UACXlF,UAAWA,YAIf,QAASmF,yBACP,OACE7F,SAAU,IACVsB,YAAa,uDACbxD,WAAY+E,uBACZ7E,aAAc,OACdC,kBACEuF,KAAM,IACNd,SAAU,IACVC,OAAQ,IACRzB,OAAQ,IACRK,cAAe,IACfT,aAAc,KAEhB/C,OAAO,GAvHXL,QACGC,OAAO,mBACPE,UAAU,iBAAkBgI,uBAE/BhD,uBAAuBvC,SAAW,SAAU,wBAAyB,oBAsHpE1C,OAAOF,QAASE,OAAO2C,EAAG3C,OAAO6D,QC7HnC,SAAW/D,QAAS+D,OAAQlB,GAC3B,YAQA,SAASuF,iBAAiBhD,uBAqBxB,QAASiD,0BAA0BpE,QAGjC,QAASlB,QACP,GAAIwD,OAAQpD,KAAK8B,OAAOiB,EAAI/C,KAAK6B,SAASkB,EAAI,CAC9C/C,MAAKiE,SACLvE,EAAEuB,MAAMmC,MAAO,SAAUlC,GACvB,GAAIC,GAAIP,OAAOZ,KAAKoB,SACpBD,GAAEyB,KAAK1B,EAAI4B,SAAS9C,KAAK6B,SAASkB,IAClC5B,EAAEgE,OAAO,GACTnF,KAAKiE,MAAM3C,KAAKH,KAMpB,QAAS4D,WAAWpC,MAClB,MAAQG,UAASH,MAAQD,UAAa,KAGxC,QAAS0C,YAAYzC,KAAM0C,OACzB,GAAIC,MAAQxC,SAASH,OAASD,UAAY,EAE1C,OADK2C,SAAOC,MAAe,EAAIxC,SAASH,OACjC,KAAO2C,KAAO,SAAWA,KAAO,KAtBzC,GAAItF,MAAO3B,IAaXyC,QAAOyE,aAAa,WAAc,MAAOvF,MAAK6B,UAAY,WAAc,MAAO7B,MAAK8B,SAAWlC,MAY/FF,EAAEY,OAAON,MACP+E,UAAWA,UACXK,WAAYA,aAGdxF,OAnDF,GAAI8C,WAAYT,sBAAsBS,SAEtC,QACEvD,SAAU,IACVsB,YAAa,6DACbxD,YAAa,SAAUiI,0BACvB/H,aAAc,iBACdC,kBACEuF,KAAM,IACNd,SAAU,IACVC,OAAQ,IACRzB,OAAQ,IACRmF,SAAU,IACVpE,SAAU,IACVJ,KAAM,IACNyE,SAAU,KAEZvI,UAxBJL,QACGC,OAAO,mBACPE,UAAU,mBAAoBiI,iBAEjCA,gBAAgBxF,SAAW,0BAyD1B1C,OAAOF,QAASE,OAAO6D,OAAQ7D,OAAO2C,GChExC,SAAW7C,QAAS+D,OAAQlB,GAC3B,YAWA,SAASsC,wBAAwBlB,OAAQoB,gBAAiBD,uBAMxD,QAASrC,QACPI,KAAK0F,gBAAkBhG,EAAEM,KAAKK,QAAQkD,OAAO,SAAUxD,OACrD,MAAOA,OAAM4F,gBAAkB,GAAM5F,MAAM6F,eAAiB,EAAI,IAC/DC,QAEH7F,KAAK0F,gBAAkBI,YAAY9F,KAAK0F,iBACxC1F,KAAK+F,aAAeD,YAAY9F,KAAK+F,cAKvC,QAASD,aAAatB,WACpB,GAAId,YACAsC,WAWJ,OAVAtG,GAAEkE,KAAKY,UAAW,SAAUzE,OAC1BA,MAAM8D,SACN9D,MAAM+D,MAAQ,EACd/D,MAAMqD,MAAQxC,OAAOwC,MAAMrD,MAAMyD,MAAOzD,MAAMgE,KAC9C7B,gBAAgBiC,QAAQT,MAAO3D,MAAOqE,aAAc4B,UAAU,KAEhExB,UAAY9E,EAAE2E,WAAWG,UAAWwB,UACpCtG,EAAEkE,KAAKY,UAAW,SAAUzE,OAC1BkG,SAASlG,MAAO2D,MAAMmB,UAEjBL,UAGT,QAASyB,UAAUlG,MAAO+E,QACxB/E,MAAM8D,MAAMG,KAAOkC,cAAcnG,OACjCA,MAAM8D,MAAMK,MAAQiC,eAAepG,OACnCA,MAAM8D,MAAM,oBAAsB9D,MAAM,oBACxCA,MAAM8D,MAAMuC,MAAQ,QACpBrG,MAAM8D,MAAMc,IAAMpC,KAAK8D,KAAoB,IAAdtG,MAAU,KAAU+E,QAAU,IAC3D/E,MAAM8D,MAAMiB,OAASvC,KAAKqC,MAAM,IAAME,QAAU,IAC7B3E,SAAfJ,MAAMuE,OAAoBvE,MAAMuE,KAAOF,cACvCrE,MAAMyE,WAAazE,MAAMyE,UAAUK,OAAS,IAC9C9E,MAAM8D,MAAM,oBAAsB,OAClC9D,MAAM8D,MAAa,MAAI,OACvB9D,MAAM8D,MAAM,eAAiB,OAC7B9D,MAAMwE,MAASxE,MAAMyE,UAAgB,OAAI,IAAMC,aAC3C1E,MAAM2E,UAAS3E,MAAM2E,QAAU3E,MAAMwE,QAQ7C,QAAS4B,gBAAgBpG,OACvB,MAAIA,OAAMyD,MAAMpD,QAAUL,MAAMgE,IAAI3D,OAC1BL,MAAMgE,IAAIuC,KAAKvG,MAAMyD,MAAO,QAAU,IAAM,IAAM,GAAK,IAEvDjB,KAAK8D,KAAKtG,MAAMgE,IAAIuC,KAAKvG,MAAMyD,MAAO,SAAW,KAAQ,IAAM,GAAK,IAIhF,QAAS0C,eAAenG,OACtB,OAASA,MAAMyD,MAAM+C,aAAe,IAAO,KAAO,GAAK,IA9DzD,GAAIvG,MAAO3B,KAEPoG,aAAexC,sBAAsBwC,aACrCL,aAAenC,sBAAsBmC,YAWzCxE,QAmCAkB,OAAOc,iBAAiB,WACtB,OAAQ5B,KAAKK,OAAQL,KAAKwG,OACzB5G,MAcHF,EAAEY,OAAON,MACPmG,eAAgBA,eAChBD,cAAeA,gBAInB,QAASlB,yBACP,OACE7F,SAAU,IACVqB,SAAS,EACTC,YAAa,iEACbxD,WAAY+E,uBACZ7E,aAAc,OACdC,kBACEiD,OAAQ,IACRmG,KAAM,IACNT,aAAc,IACdU,kBAAmB,KAErBvJ,OAAO,GA9FXL,QACGC,OAAO,mBACPE,UAAU,qBAAsBgI,uBAEnChD,uBAAuBvC,SAAW,SAAU,kBAAmB,0BA6F9D1C,OAAOF,QAASE,OAAO6D,OAAQ7D,OAAO2C,GCpGxC,SAAW7C,QAAS+D,OAAQlB,GAC3B,YAQA,SAASgH,oBAAoB5F,OAAQmB,uBAKnC,QAASrC,QAWP,GAVAI,KAAK2C,KAAOG,SAAS9C,KAAK2C,QAErB3C,KAAK2C,MAAQ3C,KAAK2C,KAAO,KAC5B3C,KAAK2C,KAAO,GAGd3C,KAAK2G,UAA4BC,UAAhB5G,KAAK6B,SAAqB7B,KAAK6B,SAAsB,GACtE7B,KAAK6G,QAAwBD,UAAd5G,KAAK8B,OAAmB9B,KAAK8B,OAAoB,IAChE9B,KAAKkE,MAASlE,KAAK2C,MAAQG,SAAS9C,KAAK6G,QAAQ9D,GAAKD,SAAS9C,KAAK2G,UAAU5D,GAAK,GAAKL,UAAa,KACrG1C,KAAK8G,aAAe3G,OACF,SAAdH,KAAKgB,KACPhB,KAAKkD,QAAWxD,EAAEqH,QAAQrH,EAAEsH,IAAIhH,KAAKK,OAAQ4G,QAC7CjH,KAAKkD,QAAUgE,OAAOlH,KAAKkD,SAE3BlD,KAAK8G,aAAepH,EAAEyH,QAAQnH,KAAKkD,QAAS,SAAUvF,GACpD,MAAOA,GAAE6F,MAAM4D,cAGjBC,eAAerH,KAAK8G,kBACf,IAAkB,QAAd9G,KAAKgB,KACdhB,KAAKkD,QAAWxD,EAAEqH,QAAQrH,EAAEsH,IAAIhH,KAAKK,OAAQ4G,QAC7CjH,KAAKkD,QAAUgE,OAAOlH,KAAKkD,SAC3BlD,KAAK8G,aAAepH,EAAEyH,QAAQnH,KAAKkD,QAAS,SAAUvF,GACpD,MAAOA,GAAEqC,KAAKuB,YAEhB+F,mBAAmBtH,KAAK8G,kBACnB,IAAkB,UAAd9G,KAAKgB,KAAkB,CAChC,GAAIuG,UAAW3G,OAAOZ,KAAKoB,UAAUoG,KAAK,GAAGvD,MAAM,GAAG7B,QAAQ,GAAGqF,QAAQ,EACzEzH,MAAK0H,MAAQ9G,OAAOZ,KAAKoB,UAAUoG,KAAK,GAAGvD,MAAM,GAAG7B,QAAQ,GAAGqF,QAAQ,GAAGE,OAAO,QACjF3H,KAAK4H,UAAYL,SAAShB,aAAe,EACrCvG,KAAK4H,UAAY,IACnB5H,KAAK4H,UAAY,GAEnB5H,KAAK+F,aAAerG,EAAEM,KAAKK,QACxB6G,OAAO,SAAUnH,OAChB,MAAOA,OAAMyD,MAAM4D,cAAgBrH,MAAMgE,IAAIqD,aAAerH,MAAMyD,MAAMkE,UAAY9G,OAAOZ,KAAKoB,UAAUsG,UAE3GP,QACC,SAAUpH,OAAS,MAAOwC,MAAKC,OAAOzC,MAAMyD,MAAMgE,OAASxH,KAAK4H,WAAa,QAC9E/B,QACH7F,KAAK6H,mBAAqBnI,EAAEM,KAAKK,QAC9B6G,OAAO,SAAUnH,OAChB,MAAOA,OAAMyD,MAAM4D,cAAgBrH,MAAMgE,IAAIqD,cAE9CJ,IAAIc,cACJf,UACAI,QAAQ,SAAUpH,OACjB,MAAOwC,MAAKC,OAAOzC,MAAMyD,MAAMgE,OAASxH,KAAK4H,WAAa,QAE3D/B,OAEH,KAAK,GAAI3E,GAAI,EAAO,EAAJA,EAAOA,IACcf,SAA/BH,KAAK6H,mBAAmB3G,KAC1BlB,KAAK6H,mBAAmB3G,MAK5B,IAFAlB,KAAKe,QAEDwG,SAAShB,aAAe,EAAI,EAC9B,IAAKrF,EAAI,EAAGA,EAAIqG,SAAShB,aAAe,EAAGrF,IACzClB,KAAKe,KAAKgH,WAGdrI,GAAEuB,MAAMsG,SAASS,cAAe,SAAUC,GACxC,GAAI7H,KAAMQ,OAAO2G,UAAUhJ,IAAI0J,EAAG,OAClCjI,MAAKe,KAAKO,MAAOkG,KAAMpH,IAAKC,aAI9B,KADA,GAAI6H,oBAAsBlI,KAAKe,KAAK8D,OAAS,GAAK,GAAK,GAChD7E,KAAKe,KAAK8D,OAASqD,oBACxBlI,KAAKe,KAAKO,UAOhB,QAAS2F,OAAOlH,OAEdA,MAAQlD,QAAQsG,KAAKpD,MAErB,IAAIyD,OAAQ5C,OAAOb,MAAMyD,OAAOZ,KAAK5C,KAAK2G,UAAU5D,GAAGoC,OAAOnF,KAAK2G,UAAUwB,GAAGC,OAAO,GACnFC,KAAOzH,OAAOb,MAAMgE,KAAKnB,KAAK5C,KAAK6G,QAAQ9D,GAAGoC,OAAOnF,KAAK6G,QAAQsB,GAAGC,OAAO,GAChF,IAAIrI,MAAMyD,MAAM4D,cAAgBrH,MAAMgE,IAAIqD,YAAa,CAGrD,GAAIrH,MAAMyD,MAAM8E,SAAS9E,OAAQ,CAC/B,GAAIzD,MAAMgE,IAAIuE,SAAS9E,OACrB,QAEFzD,OAAMyD,MAAQA,MAEhB,GAAIzD,MAAMgE,IAAIwE,QAAQF,MAAO,CAC3B,GAAItI,MAAMyD,MAAM+E,QAAQF,MACtB,QAEFtI,OAAMgE,IAAMsE,KAEd,OAAQtI,OAIV,GAAIyI,aAAc3L,QAAQsG,KAAKpD,MAC/ByI,aAAYzE,IAAMnD,OAAOb,MAAMyD,OAAOZ,KAAK5C,KAAK6G,QAAQ9D,GAAGoC,OAAOnF,KAAK6G,QAAQsB,GAAGC,OAAO,IACrFrI,MAAMyD,MAAM8E,SAAS9E,SACvBgF,YAAYhF,MAAQA,MAGtB,IAAIiF,cAAe7H,OAAOb,MAAMyD,OAAOjF,IAAI,EAAG,OAAOqE,KAAK5C,KAAK2G,UAAU5D,GAAGoC,OAAOnF,KAAK2G,UAAUwB,GAC9FO,WAAa9H,OAAOb,MAAMyD,OAAOZ,KAAK5C,KAAK6G,QAAQ9D,GAAGoC,OAAOnF,KAAK6G,QAAQsB,EAC9E,IAAIpI,MAAMgE,IAAIuE,SAASG,cACrB,MAAID,aAAYhF,MAAM+E,QAAQG,gBAItBF,YAEVA,aAAY5C,gBAAiB,CAI7B,IAAI+C,cAAe9L,QAAQsG,KAAKpD,MAIhC,OAHA4I,cAAanF,MAAQ5C,OAAOb,MAAMyD,OAAOjF,IAAI,EAAG,OAAOqE,KAAK5C,KAAK2G,UAAU5D,GAAGoC,OAAOnF,KAAK2G,UAAUwB,GACpGQ,aAAahD,iBAAkB,EAE3B5F,MAAMyD,MAAM+E,QAAQG,YAEfzB,MAAM0B,eAGPH,aAAaI,OAAO3B,MAAM0B,eAGpC,QAASb,cAAc/H,OACrB,GAAIA,MAAMyD,MAAM+E,QAAQxI,MAAMgE,KAAM,CAClC,GAAI8E,IAAK9I,MAAMyD,KACfzD,OAAMyD,MAAQzD,MAAMgE,IACpBhE,MAAMgE,IAAM8E,GAEd,GAAI9I,MAAMyD,MAAMkE,QAAU1H,KAAKoB,SAASsG,QAAS,CAE/C,GAAI3H,MAAMgE,IAAI2D,QAAU1H,KAAKoB,SAASsG,QAEpC,QAGF3H,OAAMyD,MAAQ5C,OAAOZ,KAAKoB,UAAU0H,QAAQ,SAE9C,GAAI/I,MAAMgE,IAAI2D,QAAU1H,KAAKoB,SAASsG,QAAS,CAE7C,GAAI3H,MAAMyD,MAAMkE,QAAU1H,KAAKoB,SAASsG,QACtC,QAEF3H,OAAMgE,IAAMnD,OAAOZ,KAAKoB,UAAU2H,MAAM,SAG1C,GAAIhJ,MAAMyD,MAAMwF,YAAcjJ,MAAMgE,IAAIiF,UAEtC,OAAQjJ,MAIV,IAAIkJ,YAAapM,QAAQsG,KAAKpD,OAC1BmJ,YAAcrM,QAAQsG,KAAKpD,MAO/B,OALAkJ,YAAWrD,gBAAiB,EAC5BsD,YAAYvD,iBAAkB,EAC9BsD,WAAWlF,IAAMnD,OAAOqI,WAAWzF,OAAOuF,MAAM,QAChDG,YAAY1F,MAAMjF,IAAI,EAAG,QAAQuK,QAAQ,SAEjCG,YAAYL,OAAOd,aAAaoB,cAG1C,QAAShC,QAAQ7G,QACf,MAAOX,GAAEwH,OAAO7G,OAAQ,SAAU1C,GAChC,GAAI6F,OAAO6E,IAWX,OAVkB,SAAdrI,KAAKgB,MACPwC,MAAQ5C,OAAOZ,KAAKoB,UAAUC,QAAQ,GAAGuB,KAAK5C,KAAK2G,UAAU5D,GAAGoC,OAAOnF,KAAK2G,UAAUwB,GAAGC,OAAO,GAChGC,KAAOzH,OAAOZ,KAAKoB,UAAUC,QAAQ,GAAGuB,KAAK5C,KAAK6G,QAAQ9D,GAAGoC,OAAOnF,KAAK6G,QAAQsB,GAAGC,OAAO,KACpE,QAAdpI,KAAKgB,MACdwC,MAAQ5C,OAAOZ,KAAKoB,UAAUwB,KAAK5C,KAAK2G,UAAU5D,GAAGoC,OAAOnF,KAAK2G,UAAUwB,GAAGC,OAAO,GACrFC,KAAOzH,OAAOZ,KAAKoB,UAAUwB,KAAK5C,KAAK6G,QAAQ9D,GAAGoC,OAAOnF,KAAK6G,QAAQsB,GAAGC,OAAO,KACzD,UAAdpI,KAAKgB,OACdwC,MAAQ5C,OAAOZ,KAAKoB,UAAUoG,KAAK,GAAG5E,KAAK5C,KAAK2G,UAAU5D,GAAGoC,OAAOnF,KAAK2G,UAAUwB,GAAGC,OAAO,GAC7FC,KAAOzH,OAAOZ,KAAKoB,UAAUC,QAAQT,OAAOZ,KAAKoB,UAAU4G,eAAepF,KAAK5C,KAAK6G,QAAQ9D,GAAGoC,OAAOnF,KAAK6G,QAAQsB,GAAGC,OAAO,KAExHzK,EAAE6F,MAAM2F,UAAU3F,MAAO6E,OAAS1K,EAAEoG,IAAIoF,UAAU3F,MAAO6E,QAIpE,QAAShB,gBAAgBP,cACvBA,aAAeA,gBACf,IAAIsC,aAAcxI,OAAOZ,KAAKoB,UAAUC,QAAQ,GAAG+F,WACnD1H,GAAEuB,MAAM,EAAG,SAAUC,GACd4F,aAAasC,YAAclI,KAC9B4F,aAAasC,YAAclI,SAKjC,QAASoG,oBAAoBR,cAC3BA,aAAeA,iBACfpH,EAAEkE,KAAK5D,KAAKwF,SAAU,SAAU7H,GACzBmJ,aAAanJ,KAChBmJ,aAAanJ,SAKnB,QAASiJ,WAAW7D,GAClB,MAAIA,IAAK,IACEA,EAAG,GAAIoF,EAAG,KAEZpF,EAAGA,EAAGoF,EAAG,GAGpB,QAASzG,MAAMoF,cACb,MAAkB,SAAd9G,KAAKgB,KACAS,OAAOC,KAAKoF,cACI,QAAd9G,KAAKgB,KACPS,OAAOC,KAAKoF,cAAcnF,OAD5B,OAKT,QAAS0H,WAAWC,KAClB,MAAOtJ,MAAK8G,aAAawC,KAO3B,QAASC,SAAStB,GAChB,MAAOjI,MAAKoB,SAASoF,SAAW5F,SAAS4F,QAAUyB,IAAMrH,SAASwG,YAGpE,QAASoC,gBACP,MAAO5I,UAASgC,OAASE,SAAS9C,KAAK2G,UAAU5D,IAAMnC,SAASgC,OAASE,SAAS9C,KAAK6G,QAAQ9D,GAGjG,QAAS0G,uBACP,GAAIC,cAAqF,IAArE9I,SAASgC,OAASE,SAAS9C,KAAK2G,UAAY3G,KAAK2G,UAAU5D,EAAI,IAAWnC,SAASwB,SACvG,OAAOG,MAAKC,MAAMxC,KAAK2C,MAAQD,UAAYgH,cAAgB,IAG7D,QAASC,aACP,MAAO3J,MAAKoB,SAASwI,OAAOhJ,SAAUZ,KAAKgB,MAG7C,QAAS6I,sBAAsB9G,EAAGoF,EAAGhH,GACnC,GAAI2I,IACc,UAAd9J,KAAKgB,KACP8I,IAAMlJ,OAAOZ,KAAKoB,UAAUwB,KAAKG,GAAGoC,OAAOgD,GAAGC,OAAO,GAAGhB,UAAUjG,GAC3C,QAAdnB,KAAKgB,OACd8I,IAAMlJ,OAAOZ,KAAKoB,UAAUwB,KAAKG,GAAGoC,OAAOgD,IAE7CnI,KAAKU,eAAgBqJ,QAASD,IAAKE,QAAuB,QAAdhK,KAAKgB,KAAiBG,EAAIhB,SAGxE,QAAS8J,gBAAgB7J,IAAKpB,QACxBoB,IAAIoH,MACNxH,KAAKU,eAAgBqJ,QAAS3J,IAAIoH,OAItC,QAAS0C,mBAAmBnH,EAAGoF,EAAGhH,EAAGtC,MAAOG,QAC1C,GAAI8K,IACc,UAAd9J,KAAKgB,KACP8I,IAAMlJ,OAAOZ,KAAKoB,UAAUwB,KAAKG,GAAGoC,OAAOgD,GAAGC,OAAO,GAAGhB,UAAUjG,GAC3C,QAAdnB,KAAKgB,OACd8I,IAAMlJ,OAAOZ,KAAKoB,UAAUwB,KAAKG,GAAGoC,OAAOgD,IAE7CnI,KAAKC,cAAe8J,QAASD,IAAKjL,MAAOA,MAAOG,OAAQA,OAAQgL,QAAuB,QAAdhK,KAAKgB,KAAiBG,EAAIhB,SAGrG,QAASN,WAAWC,KAAMC,MAAOa,QAC/BZ,KAAKC,cAAepB,MAAOiB,KAAMd,OAAQe,MAAOgK,QAASnJ,SAzR3D,GAAI8B,WAAYT,sBAAsBS,UAElC1C,KAAO3B,IA8EXuB,QAyJAkB,OAAOc,iBAAiB,WACtB,OAAQ5B,KAAKK,OAAQL,KAAKwF,SAAUxF,KAAKoB,SAAUpB,KAAKgB,KAAMhB,KAAK6B,SAAU7B,KAAK8B,OAAQ9B,KAAK2C,OAC9F/C,MAiDHF,EAAEY,OAAON,MAEPuJ,QAASA,QACTE,oBAAqBA,oBACrBE,UAAWA,UACXE,qBAAsBA,qBACtBL,aAAcA,aACd9H,KAAMA,KACN2H,UAAWA,UACXY,eAAgBA,eAChBpK,UAAWA,UACXqK,kBAAmBA,oBAIvB,QAASnI,qBACP,OACE5C,SAAU,IACVsB,YAAa,6CACbxD,WAAYyJ,mBACZvJ,aAAc,WACdC,kBACEuF,KAAM,IACNtC,OAAQ,IACRmF,SAAU,IACVpE,SAAU,IACVJ,KAAM,IACNa,SAAU,IACVC,OAAQ,IACRP,SAAU,IACV4I,cAAe,IACfC,YAAa,IACb1J,cAAe,IACf+F,kBAAmB,IACnBxG,aAAc,KAEhB/C,UAvUJL,QACGC,OAAO,mBACPE,UAAU,aAAc+E,mBAE3B2E,mBAAmBjH,SAAW,SAAU,0BAsUvC1C,OAAOF,QAASE,OAAO6D,OAAQ7D,OAAO2C,GC7UxC,SAAW7C,SACV,YAEAA,SACGC,OAAO,mBACPoK,OAAO,SAAU,WAChB,MAAO,UAAUmD,KAAM1C,QACrB,MAAO0C,MAAK1C,OAAOA,WAGtBT,OAAO,aAAc,WACpB,MAAO,UAAUoD,KACf,MAAOA,KAAIC,OAAO,GAAGC,cAAgBF,IAAIG,MAAM,OAGpD1N,OAAOF,SCPT,SAAWA,SACV,YAWA,SAAS6N,eAOP,GAAIC,WAAY,SAAUC,MAAOC,OAE/BA,MAAQ/H,SAAS+H,MAGjB,KAAK,GAAI3J,GAAI,EAAO2J,MAAJ3J,EAAWA,IACzB0J,MAAMtJ,KAAKJ,EAIb,OAAO0J,OAMT,OAAOD,WAhCT9N,QACGC,OAAO,mBACPoK,OAAO,QAASwD,cAgClB3N,OAAOF,SC7CT,SAAWA,SACV,YACAA,SACGC,OAAO,mBACPoK,OAAO,eAAgB,wBAAyB,SAAUjF,uBACzD,MAAO,UAAU6I,KACf,MAAO7I,uBAAsB8I,QAAQD,UAG1C/N,OAAOF,SCTR,SAAUA,SACV,YACAA,SAAQC,OAAO,mBACZkO,SAAS,wBAAyB,WACjC,GAAIhL,MAAO3B,IAEX2B,MAAK0C,UAAY,GACjB1C,KAAKoE,aAAe,EACpBpE,KAAK+K,SACHE,gBAAiB,mBAGnBjL,KAAKyE,aAAe,iBAEpBpG,KAAK6M,gBAAkB,SAAUC,MAC/BnL,KAAKyE,aAAe,GAAK0G,MAG3B9M,KAAK+M,YAAc,SAAUC,MAC3BrL,KAAK0C,UAAY2I,MAEnBhN,KAAKiN,eAAiB,SAAUC,QAC9BvL,KAAKoE,aAAemH,QAGtBlN,KAAKmN,UAAY,SAAUlC,IAAKzD,OAC9B7F,KAAK+K,QAAQzB,KAAOzD,OAGtBxH,KAAKoN,MAAQ,WACX,OAAQV,QAAS/K,KAAK+K,QAASrI,UAAW1C,KAAK0C,UAAW0B,aAAcpE,KAAKoE,aAAcK,aAAczE,KAAKyE,mBAGpH1H,OAAOF,SCjCP,SAAUA,QAAS6C,EAAGkB,QACtB,YAQA,SAASsB,mBAgBP,QAASiC,SAAST,MAAO3D,MAAO2L,kBAAmB1F,SAAU2F,aAC3D,IAAK,GAAIzK,GAAI,EAAGA,EAAIwC,MAAMmB,OAAQ3D,IAAK,CACrC,GAAInB,MAAM+D,MAAQ4H,kBAAmB,CACnC,GAAIvH,UAAU,CAkBd,IAjBAzE,EAAEkE,KAAKF,MAAMgI,mBAAoB,SAAUE,KACzCzH,QAAUpE,MAAMqD,MAAMyI,SAASD,IAAIxI,QAC9Be,SAAWwH,cACdxH,QAAWpE,MAAMyD,MAAMpD,QAAUwL,IAAIpI,MAAMpD,OAASL,MAAMyD,MAAMpD,QAAUwL,IAAI7H,IAAI3D,OAASL,MAAMgE,IAAI3D,QAAUwL,IAAIpI,MAAMpD,OAASL,MAAMgE,IAAI3D,QAAUwL,IAAI7H,IAAI3D,OAE5J+D,UACFyH,IAAIpI,MAAQ5C,OAAOkL,IAAI/L,MAAMyD,MAAOoI,IAAIpI,OACxCoI,IAAI7H,IAAMnD,OAAOmL,IAAIhM,MAAMgE,IAAK6H,IAAI7H,KACpC6H,IAAIxI,MAAQxC,OAAOwC,MAAMwI,IAAIpI,MAAOoI,IAAI7H,KACxC6H,IAAItH,KAAOoH,kBACXE,IAAIpH,UAAUlD,KAAKvB,OACf6L,IAAII,aAAejM,MAAMiM,aAC3BJ,IAAII,WAAa,GACjBjM,MAAMiM,WAAa,OAIrB7H,QAAS,CACX6B,SAAS1E,KAAKvB,MACd,OAIF,GAFAA,MAAM+D,MAAQ4H,kBACd3L,MAAMuE,KAAOoH,mBACR3L,MAAMyE,UAAW,CACpB,GAAIyH,YAAavM,EAAEwM,UAAUnM,MAC7BA,OAAMyE,WAAayH,YAErBvI,MAAMgI,mBAAmBpK,KAAKvB,MAC9B,OAEF,IAAK2D,MAAMxC,GAAG2D,OAAQ,CACpBnB,MAAMxC,GAAGI,KAAKvB,OACdA,MAAMuE,KAAOpD,CACb,OAEF,IAAIxB,EAAEwH,OAAOxD,MAAMxC,GAAI,SAAU0K,KAK/B,MAJAzH,SAAUpE,MAAMqD,MAAMyI,SAASD,IAAIxI,QAC9Be,SAAWwH,cACdxH,QAAWpE,MAAMyD,MAAMpD,QAAUwL,IAAIpI,MAAMpD,OAASL,MAAMyD,MAAMpD,QAAUwL,IAAI7H,IAAI3D,OAASL,MAAMgE,IAAI3D,QAAUwL,IAAIpI,MAAMpD,OAASL,MAAMgE,IAAI3D,QAAUwL,IAAI7H,IAAI3D,OAE5J+D,SACFyH,IAAI9H,OAAS,GACN,GAFT,SAGKe,OAKA,CACLnB,MAAMxC,GAAGI,KAAKvB,OACdA,MAAMuE,KAAOpD,CACb,OAPAnB,MAAM+D,OAAS,EACVJ,MAAMxC,EAAI,KACbwC,MAAMxC,EAAI,QAjElB,GAAIlB,MAAO3B,IAEXqB,GAAEY,OAAON,MAEPmE,QAASA,UAXbtH,QACGC,OAAO,mBACPqP,QAAQ,kBAAmBjK,iBAE9BA,gBAAgBzC,YA8EhB1C,OAAOF,QAASE,OAAO2C,EAAG3C,OAAO6D,QCrFnC/D,QAAQC,OAAO,mBAAmBsP,KAAK,iBAAkB,SAASC,gBAChE,YAEAA,gBAAeC,IAAI,2DACjB,+iBAcFD,eAAeC,IAAI,qEACjB,6hCA6BFD,eAAeC,IAAI,uDACjB,k/BA8BFD,eAAeC,IAAI,6DACjB,yTAUFD,eAAeC,IAAI,iEACjB,inDA4BA,ylBAcFD,eAAeC,IAAI,6CACjB"}