{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","ScrollHorizontalDirective","$timeout","restrict","scope","scrollLeft","link","element","attributes","bind","e","wheelDelta","addClass","offsetWidth","directive","$inject","_","PlanningDayController","init","self","this","extend","PlanningDayDirective","replace","templateUrl","controller","controllerAs","bindToController","day","events","clickCallback","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","clickEvent","hour","$event","minutes","contains","target","classList","Math","floor","offsetX","BASE_SIZE","zoom","$hour","parseInt","h","$minutes","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","event","style","depth","end","add","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","undefined","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","diff","isoWeekday","week","weekEventCallback","PlanningController","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","map","split","filter","groupBy","dayOfYear","addMissingDays","addMissingEntities","firstDay","date","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","daysInMonth","n","m","second","stop","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","st","startOf","endOf","isoWeek","firstEvent","secondEvent","isBetween","startingDay","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","clickWeekEvent","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","elt","overlaps","min","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}