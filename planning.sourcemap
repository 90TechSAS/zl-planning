{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/drag-drop/drag-drop.directive.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","directive","controller","scope","controllerAs","bindToController","zlDrag","zlDrop","link","element","el","addEventListener","e","preventDefault","attributes","draggable","dataTransfer","effectAllowed","setData","JSON","stringify","dragDropCtrl","this","classList","add","remove","stopPropagation","target","$apply","$data","parse","getData","$event","ScrollHorizontalDirective","$timeout","restrict","scrollLeft","bind","wheelDelta","addClass","offsetWidth","$inject","_","PlanningDayController","init","dropEvent","data","event","self","dropCallback","isDefined","undefined","day","events","extend","PlanningDayDirective","replace","templateUrl","clickCallback","dayCtrl","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","position","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","extractMinutesFromEvent","minutes","contains","Math","floor","offsetX","BASE_SIZE","zoom","hour","parseInt","getAttribute","$hour","h","$minutes","clickEvent","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","style","depth","end","left","hours","width","overlap","MAX_PARALLEL","difference","line","title","eventList","parallelText","tooltip","top","round","length","height","calcWidth","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","displayedEvents","continuedBefore","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","color","ceil","diff","isoWeekday","week","weekEventCallback","PlanningController","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","map","split","filter","groupBy","dayOfYear","addMissingDays","addMissingEntities","firstDay","date","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","daysInMonth","n","displayedDaysCount","m","second","stop","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","st","startOf","endOf","isoWeek","firstEvent","secondEvent","isBetween","startingDay","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","isSame","clickCallbackWrapper","mom","$moment","$entity","clickWeekEvent","dropEventWeekMode","eventCallback","dayCallback","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","$get","maxParallelEvents","doublecheck","elt","overlaps","min","max","technician","eventClone","cloneDeep","service","run","$templateCache","put"],"mappings":"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"}