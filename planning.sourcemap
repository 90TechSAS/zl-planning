{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/drag-drop/drag-drop.directive.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-vertical-line/planning-vertical-line.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/dayFilter.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/absences.service.js","planning/services/color.service.js","planning/services/configurationProvider.js","planning/services/pause.service.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","directive","controller","scope","controllerAs","bindToController","zlDrag","zlDrop","link","element","dragImage","document","createElement","el","addEventListener","e","preventDefault","attributes","draggable","style","height","clientHeight","zIndex","position","left","bottom","innerHTML","children","length","backgroundColor","width","clientWidth","Math","min","dataTransfer","effectAllowed","body","appendChild","setDragImage","_","each","querySelectorAll","elt","remove","setData","JSON","stringify","dragDropCtrl","this","classList","add","stopPropagation","target","$apply","$data","parse","getData","$event","ScrollHorizontalDirective","$timeout","restrict","scrollLeft","bind","wheelDelta","addClass","offsetWidth","$inject","moment","PlanningDayController","$scope","init","dropEvent","data","event","self","dropCallback","$onInit","extend","absents","isDefined","undefined","day","events","$watchCollection","absences","date","Object","keys","reduce","acc","key","array","hasOverlap","any","absence","range","start","end","within","push","absentsString","join","PlanningDayDirective","replace","templateUrl","clickCallback","dayCtrl","PlanningLeftColumnController","days","allowedDays","usableDays","mode","forEach","d","weekday","sortBy","toDate","dayField","column","sort","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","ColorService","PauseService","AbsenceService","extractMinutesFromEvent","minutes","contains","floor","offsetX","BASE_SIZE","zoom","hour","parseInt","getAttribute","copy","hours","h","checkAbsence","absentTechnicianCallback","$hour","$minutes","clickEvent","currentId","preEvent","breaks","_events","SECONDS_BY_DAY","SLIDER_WIDTH","valueOf","lines","toremove","depth","getLuminance","color","overlap","MAX_PARALLEL","difference","id","line","title","eventList","parallelText","tooltip","top","round","percentage","pre","s","subtract","isSame","startOf","r","totalRange","obj","totalWidth","text-align","background","border-top","border-bottom","border-left","pauses","generateGradient","createBreaks","calcWidth","compact","map","p","pause","name","split","minute","second","isAfter","isBefore","_absences","abs","newValue","oldValue","Array","isArray","endOf","parseAbsences","log","a","string","PlanningLineDirective","topRowDirective","PlanningTopRowController","times","i","calcMargin","index","half","$watchGroup","entities","callback","$filter","offsetY","AVAILABLE_SPACE","continuedBefore","calculateContainerHeight","containerHeight","max","displayedEvents","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","ceil","diff","isoWeekday","week","weekEventCallback","PlanningController","DAYS","daysList","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","filter","groupBy","format","addMissingDays","mapValues","eventsByTechnician","addMissingEntities","v","groupedEvents","unix","k","result","technician","m","stop","j","isEmpty","includes","found","find","group","firstDay","seconds","month","decallage","dayOfYear","multipleDaysEvents","splitByWeeks","endWeek","isoWeek","startWeek","isoWeeksInYear","weekInMonth","unshift","daysInMonth","n","displayedDaysCount","first_event","startNextDay","endThisDay","second_event","concat","st","year","firstEvent","secondEvent","some","isBetween","startingDay","newDate","b","dateA","dateFromString","dateB","getEvents","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","clickCallbackWrapper","opts","mom","entity","Date","$moment","$entity","clickWeekEvent","config","doy","dateSplitted","entitiesPauses","eventCallback","dayCallback","action","isNaN","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","interval","Error","parsed","overlaps","mergeRanges","ranges","assign","range1","range2","reduced","arr","next","service","c","g","rgbRegex","test","exec","substring","rgb","luma","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","setDays","$get","direction","parsePause","pauseRange","pauseDuration","totalDuration","before","endPercentage","startPercentage","pauseColor","invertColor","mapped","hex","indexOf","toString","padZero","len","zeros","maxParallelEvents","doublecheck","eltRange","eventClone","cloneDeep","run","$templateCache","put"],"mappings":"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"}