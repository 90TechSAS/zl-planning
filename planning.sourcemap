{"version":3,"file":"planning.min.js","sources":["planning/_module.js","planning/directives/drag-drop/drag-drop.directive.js","planning/directives/horizontal-scroll/horizontal-scroll.js","planning/directives/planning-day-block/planning-day.js","planning/directives/planning-left-column/planning-left-column.js","planning/directives/planning-line/planning-line.js","planning/directives/planning-top-row/planning-top-row.js","planning/directives/planning-vertical-line/planning-vertical-line.js","planning/directives/planning-week-line/planning-week-line.js","planning/directives/planning/planning.js","planning/filters/dayFilter.js","planning/filters/momentFilter.js","planning/filters/range.js","planning/filters/strFilter.js","planning/services/color.service.js","planning/services/configurationProvider.js","planning/services/position.service.js","planning/templates.js"],"names":["angular","module","window","directive","controller","scope","controllerAs","bindToController","zlDrag","zlDrop","link","element","dragImage","document","createElement","el","addEventListener","e","preventDefault","attributes","draggable","style","height","clientHeight","zIndex","position","left","bottom","innerHTML","children","length","backgroundColor","width","clientWidth","Math","min","dataTransfer","effectAllowed","body","appendChild","setDragImage","setData","JSON","stringify","dragDropCtrl","this","classList","add","remove","stopPropagation","target","$apply","$data","parse","getData","$event","ScrollHorizontalDirective","$timeout","restrict","scrollLeft","bind","wheelDelta","addClass","offsetWidth","$inject","_","PlanningDayController","init","dropEvent","data","event","self","dropCallback","isDefined","undefined","day","events","extend","PlanningDayDirective","replace","templateUrl","clickCallback","dayCtrl","moment","PlanningLeftColumnController","$scope","days","mode","times","i","d","weekday","push","dayField","column","Object","keys","sort","$watchCollection","dayStart","dayEnd","PlanningDirective","PlanningLineController","planningConfiguration","PositionService","ColorService","extractMinutesFromEvent","minutes","contains","floor","offsetX","BASE_SIZE","zoom","hour","parseInt","getAttribute","$hour","h","$minutes","clickEvent","currentId","preEvent","_events","copy","range","SECONDS_BY_DAY","SLIDER_WIDTH","sortBy","start","valueOf","lines","toremove","each","depth","end","hours","getLuminance","color","overlap","MAX_PARALLEL","difference","id","line","title","eventList","parallelText","tooltip","top","round","percentage","pre","s","subtract","isSame","startOf","r","totalRange","obj","totalWidth","text-align","background","border-top","border-bottom","border-left","calcWidth","log","a","string","PlanningLineDirective","topRowDirective","PlanningTopRowController","minute","calcMargin","index","half","$watchGroup","entities","callback","offsetY","AVAILABLE_SPACE","continuedBefore","max","displayedEvents","continuedAfter","value","positioning","oneDayEvents","toRemove","setStyle","calculateLeft","calculateWidth","ceil","diff","isoWeekday","week","weekEventCallback","PlanningController","allowedDays","usableDays","DAYS","daysList","map","_dayStart","parseTime","_dayEnd","sortedEvents","flatten","split","filter","groupBy","dayOfYear","addMissingDays","mapValues","eventsByTechnician","addMissingEntities","firstDay","date","seconds","month","format","decallage","multipleDaysEvents","splitByWeeks","unshift","daysInMonth","n","displayedDaysCount","m","second","stop","isBefore","isAfter","first_event","startNextDay","endThisDay","second_event","concat","st","endOf","isoWeek","firstEvent","secondEvent","isBetween","startingDay","getEvents","key","isToday","isInDayRange","currentTimeToPixels","totalMinutes","isCurrent","clickCallbackWrapper","opts","mom","entity","$moment","$entity","clickWeekEvent","config","eventCallback","dayCallback","isNaN","time","str","charAt","toUpperCase","slice","RangeFilter","operation","input","total","val","strings","c","g","b","rgbRegex","test","exec","substring","rgb","luma","service","provider","nothing_to_show","setParallelText","text","setBaseSize","size","setMaxParallel","number","setString","setDays","$get","maxParallelEvents","doublecheck","elt","eltRange","overlaps","technician","eventClone","cloneDeep","run","$templateCache","put"],"mappings":"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"}